language: go
go:
- 1.10.x
- tip
before_install:
- go get github.com/axw/gocov/gocov
- go get github.com/mattn/goveralls
- go get github.com/carlescere/scheduler
- if ! go get github.com/golang/tools/cmd/cover; then go get golang.org/x/tools/cmd/cover;
  fi
- mkdir /tmp/backup
install:
- go get golang.org/x/text/encoding
- go get golang.org/x/net/context
- go get github.com/stretchr/testify/assert
- go get github.com/pkg/errors
os:
- linux
env:
  global:
  - secure: oSL9vt6xrpwMQJSkh36tDNNAaeKpz/FBwyJHo6BbuoaJ46f8Mm0W84wyIJofECLNPXtWJuHqypYuXBv0RX49FeMtbo/2oaBzVy+ncfd9LH7FhbeEmeK2SB4yV3SNcQidIumpHasLnZF4mOh9Hhwfv/b1dYz2xV9l8AgLI0fyDBAjE2Yb8Y6YSE4AH437pFuUm3fzP7xz95E+xTbKPt4lwTb3mSSCWflf4ia0LobHifptR7qNQG+yXYxzE+iHRLDs8NIqB9Be8SD22HB8p2HZ6PyaRtMtU45na9gR+INHtBeufXMfLDKMnu/54ISyzvDTs4MeT4EzIJIiLrfqcag1y8bUrPj/nIyl/82tX98FRfrQWzjYWvMM++jRWK6reNrENv24iJyxS0e46h7XSeOiwhznzlvXInXkMky2aRJ0lTnq9H3ESgRoEDq3w1vEcwuO9er584B5Isozis/WksfSxhdW3YAEOarwTtY+K2/ZL+5lHgpNX99+RyY7XqhWTDWuu/qjahJuwHJttoJrDtWKeqfxgKpauScDtjDxX1fhd3coUArMS86d4Cgo7WUxYJs59EwRe8Rhee0NqVA6s1dWQD7dWj8s8jeDT46yvZgYW+jRWIr6VI3pV0JXrSr/AIYIEXKNTeGu4pdkmRxvDHCQxH/Y3dqMmbIgm3MbLSkBeks=
  - secure: KQwHWkALfiPf89QR30i/mxBxZ3WnBRAN3ehGVASzjVRmbhbB2FaYheVeOpL+1P28ru9+5xjPKrM8xruM2k1HMvRISYtQ2weWss+xAdtEsfUFg7MDFNVcgGbIBHa9CbQMan9X8WcNWI/eNohRpXRx+Yqw9P4oR2b2Grn80iXDFTh2gB/R37IQuPPp4XB1HR6robiZpwYUVdeNqqKbHN0ekzZkFrKClYwOnTVIrrJHvoxrTlNs+sCdYZecDx4m0vVFk2ocqKz3NGWejQTflQE0q30lK6pdsNeiagLES+QPtTkWovOmtL0eJgO9c9s1SkWQvQqGE4azYvyjCquR3l7R9qh1YYXcMyITe0dtDApwOAbhd8jkoR2gIUlVqm23K1m/51PAelWwnD8Oa45dtDUpBy/XhkKdrHcXKE99c4qEW3SKAGii0qg4rBGeHUZtK3IWMpSDwSkNElaYXS4zIoBxOZ34IrJTQo8FYMGFjxVYnA4neKf9PfXFplIWld0bH+2O3JsDDI65mjLG0XI74KP/t5AyGzEi8svcSRUIYFVTPnXcAj+wwJFvRHFt7s3u+dTn5jcE6LrB8SmEsFtIqEI7YPwmc3YfLKsx12BQ6a+4tiOPzRhrrNQhcUyuFH+TpbA1rqyEzWAV0mHRRCJamoPzeZ3HsSufHpslR6m1qHRcgvg=
  - secure: FAKQNvCv22mpgPXfo01pZb557EBkXhDJzXeTTq5j5RKsiD0yKgLfS5C4TTg88Gw7kKT41VLthT29FwauMe0gTfF1Rg1deqRWlQpRmzldU5tpJVP9wMfue3BW9jypX/mvV0A8ZGAzjqlE0bWiCL0mhNTi3NpKCQBUHlYX8ztX9GZKiv9VpSwvvfXuRjrcSG0AAkG/pfnri/pt9ilIidNqxDZdLyPddVn3aRI/amd4lXyfj6X2hBYvIRLAiWY8ffJUQMb8kGg8BkPgTu6s1fq+PPz+DTvq3zm0bwVBuZbJfAOt38zlnzPFTQvxhK2ROoMDqll/Y1QN/Tcttax/zAVBCjt0+ghskqqcOLg/kVgSBXDOvKQVaAisYjjBCQbNaAuR+I5j7Y1mZJOOI5KcrWw02m9LafQe2dUi6xuVax0X2bUTj+T+Nm4PqtUP3vrvS76yy7KjUqsHWYceAhplE3tTtTy8+BlmHwxUrDfJ2gJjLOeIcKVkRfi/xrta0CWX6ywlnIBJt3yk/PmdZ1E68gRXxOqnA4bwgY6CrN3wYFre4zwp2KM0IClcMWT+16oWy5n3RrLzo+Y3At/Sqc7Tf9FrpsamOzpk42Sl7xjSAKrPFe9w4PZearQptTosc/c4xKu8jnyltEbUNI8blWB/hcQAvLcTfilSOetMsQHhXSsC72U=
  - secure: oinYkl5YIwalKH16z6kg8KvvNyGZdImpKyRUR/YbIfuLgfjQXHBR2d+EiQ28hOj9eAjzIhn6q9m/XgQ8ZyqvNFb7nJHo7lM6hIpyrqgI/trNJCNo9B/2cgjURP4/dV35wgizNMMok2Izsv//2sTszJgTJo9HkyFzx5x14WQ0wEljS3YVSydvko4jbx8joatsUtqa5AaS/wjjxlXL/o+T/UZr+2REtFPTzKu1aJa1vTt5Z4AWDuwiguxNs08+YCH1MEMvAhW0KkMGs3y22Cvzg3ltJMb1iRQkp/Nif4H0iSNq23KTuNSRL1AzhFGZB3kD1gsHyW1i7jmKBZqWArDfCL/BVySvALNcVz5gt3zLjECSbVYNLFPF17RbgBNsYM83LMiZ/yiPUISbWi8oko72v/JolNaf7kSoC7kXHyjTm/DvzSwLehC1AVFpFSAgkaRqZWINvQYSCmaA5PfNV/NaD782+evbs6+7CWZSvvjBeSQqyq6WofIC7pk8wxICf1aoeM5b/Dzl0lz+/Gz19sxsrviWVu+Tze771J0tsNOowP4rFqgY3GFS1v/5838yBCt58iwhEMdz8f9lsCN1p6TwO6AD3XaRCBuXEhEhlNAbF/m3dl1ylBBjDnV2w96Ip6S8YX2kwOCxvU/IMIXiHZcentTsJ6Xf8axCsibM2ateqtI=
  matrix:
  - GIT_BACKUP_DIR=/tmp/backup
script:
- base=$(echo $PWD | sed "s|$GOPATH/src/||") && go test -race -v $(go list ./... |
  grep -v vendor | sed "s|$base/|./|")
- "$GOPATH/bin/goveralls -service=travis-ci"
